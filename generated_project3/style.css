/*
  Calculator Styles
  -----------------
  Author: CODER Agent
  Description: Responsive, accessible styling for the calculator UI.
  Implements root variables, global box-sizing, responsive breakpoints,
  high‑contrast support, and print media handling.
*/

/* ---------------------------------------------------------------
   Root Variables – easy theming and consistent spacing
   --------------------------------------------------------------- */
:root {
  /* Color palette */
  --color-bg: #f9f9f9;
  --color-primary: #ff9500;   /* Operator buttons */
  --color-primary-text: #ffffff;
  --color-clear: #d9534f;    /* Clear button */
  --color-backspace: #5bc0de;/* Backspace button */
  --color-display-bg: #222222;
  --color-display-text: #ffffff;
  --color-button-bg: #f0f0f0;
  --color-button-text: #000000;
  --color-button-hover: #e0e0e0;
  --color-button-active: #d0d0d0;

  /* Typography */
  --font-base: 1rem;            /* 16px base */
  --font-display: 2rem;
  --font-button: 1.5rem;

  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 2rem;
}

/* ---------------------------------------------------------------
   Global Box‑Sizing & Base Styles
   --------------------------------------------------------------- */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  font-size: 100%; /* 16px */
  line-height: 1.5;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  background-color: var(--color-bg);
  color: var(--color-button-text);
  padding: var(--spacing-lg);
}

/* ---------------------------------------------------------------
   Calculator Container
   --------------------------------------------------------------- */
.calculator {
  max-width: 400px;
  margin: 2rem auto;
  padding: var(--spacing-md);
  background-color: var(--color-bg);
  border-radius: 0.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* ---------------------------------------------------------------
   Display
   --------------------------------------------------------------- */
.display {
  height: 4rem;
  background-color: var(--color-display-bg);
  color: var(--color-display-text);
  font-size: var(--font-display);
  text-align: right;
  padding: var(--spacing-sm);
  border-radius: 0.5rem;
  overflow-x: auto;
  white-space: nowrap; /* Prevent line‑breaks */
}

/* ---------------------------------------------------------------
   Buttons Grid
   --------------------------------------------------------------- */
.buttons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--spacing-sm);
  margin-top: var(--spacing-md);
}

.buttons button {
  font-size: var(--font-button);
  padding: var(--spacing-md);
  border: none;
  border-radius: 0.4rem;
  background-color: var(--color-button-bg);
  color: var(--color-button-text);
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}

/* Operator buttons – identified by data‑type="operator" */
.buttons button[data-type="operator"] {
  background-color: var(--color-primary);
  color: var(--color-primary-text);
}

/* Clear button */
.buttons button[data-action="clear"] {
  background-color: var(--color-clear);
  color: var(--color-primary-text);
}

/* Backspace button */
.buttons button[data-action="backspace"] {
  background-color: var(--color-backspace);
  color: var(--color-primary-text);
}

/* Hover & Active states */
.buttons button:hover {
  background: var(--color-button-hover);
}

.buttons button[data-type="operator"]:hover {
  background: #e68a00; /* Slightly darker orange */
}

.buttons button[data-action="clear"]:hover {
  background: #c9302c;
}

.buttons button[data-action="backspace"]:hover {
  background: #31b0d5;
}

.buttons button:active {
  background: var(--color-button-active);
  transform: scale(0.98);
}

.buttons button[data-type="operator"]:active {
  background: #cc7a00;
}

.buttons button[data-action="clear"]:active {
  background: #ac2925;
}

.buttons button[data-action="backspace"]:active {
  background: #269abc;
}

/* ---------------------------------------------------------------
   Focus Outline – Accessibility
   --------------------------------------------------------------- */
.buttons button:focus-visible {
  outline: 3px solid #0066ff;
  outline-offset: 2px;
}

/* ---------------------------------------------------------------
   Responsive Breakpoints
   --------------------------------------------------------------- */
@media (max-width: 480px) {
  .calculator {
    max-width: 100%;
    margin: 1rem;
    padding: var(--spacing-sm);
  }

  .display {
    font-size: 1.5rem;
    height: 3rem;
  }

  .buttons button {
    font-size: 1.2rem;
    padding: var(--spacing-sm);
  }
}

@media (min-width: 768px) {
  .calculator {
    max-width: 500px;
  }

  .buttons button {
    padding: 1.2rem;
  }
}

/* ---------------------------------------------------------------
   High‑Contrast Mode – prefers‑contrast: high
   --------------------------------------------------------------- */
@media (prefers-contrast: high) {
  :root {
    --color-bg: #ffffff;
    --color-display-bg: #000000;
    --color-display-text: #ffffff;
    --color-button-bg: #ffffff;
    --color-button-text: #000000;
    --color-primary: #0000ff; /* Blue for operators */
    --color-primary-text: #ffffff;
    --color-clear: #ff0000;
    --color-backspace: #00aa00;
  }

  .buttons button {
    border: 2px solid #000;
  }
}

/* ---------------------------------------------------------------
   Print Media – hide calculator when printing
   --------------------------------------------------------------- */
@media print {
  .calculator {
    display: none;
  }
}
